<!DOCTYPE html>	
<html>
<head>
	<title>
		Tic Tac Toe - Nishi
	</title>

	<style>
		.box
		{
			height: 100px;
			width: 100px;
			border: 1px solid black;
			background-color: #ffcccc;
		}
	</style>

	<link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">

	<script type="text/javascript">
		
		var a = [['a0','a1','a2'],['b0','b1','b3'],['c0','c1','c2']];

		var isClickedOnce = 
		{
			"00": false,
			"01": false,
			"02": false,
			"10": false,
			"11": false,
			"12": false,
			"20": false,
			"21": false,
			"22": false
		}

		function isClicked(i,j)
		{
			
			var s = ""+i+j;

			if(isClickedOnce[s] == false)
			{
				isClickedOnce[s] = true;
				entry(i,j);
			}
		}

		var min=0;
		var count=0;
		function entry(i,j)
		{
			min++;
			if(count==0)
			{
				a[i][j] = 'X';
				document.getElementById(""+i+j).style.backgroundColor = 'khaki';
				count++;
			}
			else
			{
				a[i][j] = 'O';
				document.getElementById(""+i+j).style.backgroundColor = 'Red';
				count--;
			}

			if(min>=5)
			{
				check();
			}
		}

		function check()
		{
			var x=0;
			for(var i=0; i<3;i++)
			{
				for(var j=0; j<2; j++)
				{
					if(a[j+1][i] == a[j][i])
					{
						x++;
					}
					else
						break;
				}
				if(x==2)
				{
					setTimeout(winner,100);
					return;
				}
				else
				{
					x=0;
				}
			}

			for(var i=0; i<3;i++)
			{
				for(var j=0; j<2; j++)
				{
					if(a[i][j+1]==a[i][j])
					{
						x++;
					}
					else
						break;
				}
				if(x==2)
				{
					setTimeout(winner,100);
					return;
				}
				else
				{
					x=0;
				}
			}

			var midE = a[1][1];
			if((a[0][0]==midE && midE==a[2][2]) || (a[2][0]==midE && a[0][2]==midE))
			{
				setTimeout(winner,100);
				return;
			}

			if(min==9)
				setTimeout(gameover, 100);

			return;
		}
		function gameover(){
			alert("Game Over!");
		}

		function winner()
		{
			var i = (min%2);
			if(i==0)
				alert("Player 2 won!");
			else
				alert("Player 1 won!");
			isClickedOnce["00"] = true;
			isClickedOnce["01"] = true;
			isClickedOnce["02"] = true;
			isClickedOnce["10"] = true;
			isClickedOnce["11"] = true;
			isClickedOnce["12"] = true;
			isClickedOnce["20"] = true;
			isClickedOnce["21"] = true;
			isClickedOnce["22"] = true;

		}

	</script>
</head>

<body>
	<h1 style="font-family: 'Lobster', cursive; text-align: center; margin-top: 50px;" > TIC TAC TOE </h1>
	<h1 style="font-family: 'Lobster', cursive; text-align: center;" > ~ Nishi </h1>

	<div style="float:left; margin-left: 525px;margin-top: 75px;">
		<div class="box" id="00" onclick="isClicked(0,0)"> </div>
		<div class="box" id="01" onclick="isClicked(0,1)"> </div>
		<div class="box" id="02" onclick="isClicked(0,2)"> </div>
	</div>

	<div style="float: left;margin-top:75px;">
		<div class="box" id="10" onclick="isClicked(1,0)"> </div>
		<div class="box" id="11" onclick="isClicked(1,1)"> </div>
		<div class="box" id="12" onclick="isClicked(1,2)"> </div>
	</div>

	<div style="float: left;margin-top: 75px;">
		<div class="box" id="20" onclick="isClicked(2,0)"> </div>
		<div class="box" id="21" onclick="isClicked(2,1)"> </div>
		<div class="box" id="22" onclick="isClicked(2,2)"> </div>
	</div>
</body>

</html>